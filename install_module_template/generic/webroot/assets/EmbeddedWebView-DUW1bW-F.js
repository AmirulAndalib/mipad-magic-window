import{d as f,g as a,h as _,w as m,i as v,b as w,j as h,k as p,r as b,o as g,e as l,_ as x}from"./index-BJR1ByIE.js";const y={class:"webview-container"},k=["src"],B=f({__name:"EmbeddedWebView",setup(E){const r=p(),s=a(r.query.url),e=a(null),d=()=>{console.log("网页加载完成"),u.value=!1,c()},c=()=>{var o;if(e.value){const n=e.value.contentDocument||((o=e.value.contentWindow)==null?void 0:o.document);if(n){const t=n.body.scrollHeight;e.value.style.height=`${t}px`}}},i=()=>{c()};_(()=>{window.addEventListener("resize",i)}),m(()=>r.query.url,o=>{s.value=o,e.value&&(e.value.src=s.value)});const u=a(!0);return v(()=>{window.removeEventListener("resize",i)}),(o,n)=>{const t=b("n-spin");return g(),w(t,{show:u.value},{default:h(()=>[l("div",y,[l("iframe",{ref_key:"iframeRef",ref:e,src:s.value,frameborder:"0",class:"webview",onLoad:d},null,40,k)])]),_:1},8,["show"])}}}),z=x(B,[["__scopeId","data-v-ecf01ea7"]]);export{z as default};
