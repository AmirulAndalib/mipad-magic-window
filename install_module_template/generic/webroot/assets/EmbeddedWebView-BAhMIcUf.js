import{d as f,r as a,l as _,m,n as v,f as w,w as p,p as h,j as b,o as g,g as u,_ as x}from"./index-C5fvENfR.js";const y={class:"webview-container"},B=["src"],E=f({__name:"EmbeddedWebView",setup(R){const r=h(),n=a(r.query.url),e=a(null),d=()=>{console.log("网页加载完成"),l.value=!1,c()},c=()=>{var o;if(e.value){const s=e.value.contentDocument||((o=e.value.contentWindow)==null?void 0:o.document);if(s){const t=s.body.scrollHeight;e.value.style.height=`${t}px`}}},i=()=>{c()};_(()=>{window.addEventListener("resize",i)}),m(()=>r.query.url,o=>{n.value=o,e.value&&(e.value.src=n.value)});const l=a(!0);return v(()=>{window.removeEventListener("resize",i)}),(o,s)=>{const t=b("n-spin");return g(),w(t,{show:l.value},{default:p(()=>[u("div",y,[u("iframe",{ref_key:"iframeRef",ref:e,src:n.value,frameborder:"0",class:"webview",onLoad:d},null,40,B)])]),_:1},8,["show"])}}}),z=x(E,[["__scopeId","data-v-ecf01ea7"]]);export{z as default};
