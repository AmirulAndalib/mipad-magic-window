import{d as f,h as a,i as _,w as m,j as v,o as w,a as h,k as p,l as b,r as g,f as u,_ as x}from"./index-DNm05Dr7.js";const y={class:"webview-container"},k=["src"],B=f({__name:"EmbeddedWebView",setup(E){const r=b(),s=a(r.query.url),e=a(null),d=()=>{console.log("网页加载完成"),l.value=!1,c()},c=()=>{var o;if(e.value){const n=e.value.contentDocument||((o=e.value.contentWindow)==null?void 0:o.document);if(n){const t=n.body.scrollHeight;e.value.style.height=`${t}px`}}},i=()=>{c()};_(()=>{window.addEventListener("resize",i)}),m(()=>r.query.url,o=>{s.value=o,e.value&&(e.value.src=s.value)});const l=a(!0);return v(()=>{window.removeEventListener("resize",i)}),(o,n)=>{const t=g("n-spin");return w(),h(t,{show:l.value},{default:p(()=>[u("div",y,[u("iframe",{ref_key:"iframeRef",ref:e,src:s.value,frameborder:"0",class:"webview",onLoad:d},null,40,k)])]),_:1},8,["show"])}}}),z=x(B,[["__scopeId","data-v-ecf01ea7"]]);export{z as default};
