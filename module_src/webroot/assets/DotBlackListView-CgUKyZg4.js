import{d as au,C as lu,r as g,h as nu,D as ou,t as su,i as ru,j as Fu,e as C,f as N,k as iu,E as Bu,F as Cu,G as Du,m as u,b as s,p as e,n as q,l as t,H as pu,I as du,q as Eu,s as cu,J as gu,K as Au,L as mu,g as I,M as fu,u as ku,N as y,O as m,P as yu,Q as vu,R as bu,c as j,S as wu,T as Lu,U as uu,V as xu,W as _u,X as Mu,Y as Tu,Z as eu,$ as Ru,a0 as Iu,a1 as f,a2 as U,a3 as H,a4 as Su,a5 as J,a6 as hu,a7 as Nu,a8 as tu,a9 as S,aa as $u,x as Pu}from"./index-DaOWcWk_.js";const Qu=au({__name:"DotBlackListAppDrawer",props:{type:{},title:{}},emits:["submit"],setup(X,{expose:$,emit:Y}){const l=lu();g(null),g(null);const _=X,v=g(!1),w=nu();ou(),su();const Z=ru(()=>({theme:w.isDarkMode?Eu:cu})),{message:o,modal:P}=Fu(["message","modal"],{configProviderProps:Z});let n,D;const M=g({openDrawer:L=>new Promise((E,b)=>{if(_.type==="update"&&!L){b(new Error("更新模式下必须传入初始化参数")),o.error("初始化参数不能为空");return}n=E,D=b,A.value="",v.value=!0}),closeDrawer:()=>{v.value=!1,D("Drawer closed without submission")}}),A=g(""),T=g(""),Q=async()=>{if(!A.value){P.create({title:"应用包名不能为空",type:"error",preset:"dialog",content:()=>u("p",null,[e("噫？应用包名不能为空（敲")])});return}if(l.allPackageName.has(A.value)){P.create({title:"应用包名已存在",type:"error",preset:"dialog",content:()=>u("p",null,[e("噫？这个应用包名已经存在列表中了（敲")])});return}B.value=!0;const L=()=>{B.value=!1,v.value=!1},E=()=>{B.value=!1},b={name:A.value,loadingCallback:E,closeCallback:L};P.create({title:"确认隐藏窗口控制器吗？",type:"warning",preset:"dialog",content:()=>u("p",null,[e("窗口控制器的隐藏受小米云控规则下发影响，如果隐藏窗口控制器失效，请重新操作")," ",u("span",{class:`font-bold ${w.isDarkMode?"text-teal-400":"text-gray-600"}`},[e("热重载应用数据")])," ",e("，如后续需要恢复")," ",u("span",{class:`font-bold ${w.isDarkMode?"text-teal-400":"text-gray-600"}`},[e("窗口控制器")])," ",e("的显示，则需要先清除自定义规则，确定要继续吗？")]),positiveText:"确定隐藏",negativeText:"我再想想",onPositiveClick:async()=>{n(b)},onNegativeClick(){E()},onMaskClick(){E()},onClose(){E()}})},B=g(!1);return $({openDrawer:M.value.openDrawer}),(L,E)=>{const b=C("n-input-group-label"),W=C("n-input"),z=C("n-input-group"),K=C("n-alert"),V=C("n-button"),G=C("n-drawer-content"),R=C("n-drawer");return N(),iu(du,null,[Bu(L.$slots,"default",Cu(Du({openDrawer:M.value.openDrawer}))),u(R,{show:v.value,"onUpdate:show":E[3]||(E[3]=k=>v.value=k),"default-width":500,placement:"right"},{default:s(()=>[u(G,{"body-content-class":"auto-ui-drawer-content","scrollbar-props":{trigger:"none"},title:_.title,closable:""},{footer:s(()=>[u(V,{type:"info",loading:B.value,"onUpdate:loading":E[1]||(E[1]=k=>B.value=k),onClick:E[2]||(E[2]=()=>Q())},{default:s(()=>E[6]||(E[6]=[e(" 提交 ")])),_:1},8,["loading"])]),default:s(()=>[u(z,{class:q(t(w).MIOSVersion&&t(w).MIOSVersion>=2?"":"mb-5")},{default:s(()=>[u(b,{size:"large"},{default:s(()=>E[4]||(E[4]=[e("应用包名")])),_:1}),u(W,{size:"large",status:T.value,value:A.value,"onUpdate:value":E[0]||(E[0]=k=>A.value=k),"allow-input":k=>pu(k),readonly:_.type==="update",placeholder:"请输入应用包名"},null,8,["status","value","allow-input","readonly"])]),_:1},8,["class"]),u(K,{"show-icon":!1,bordered:!1,title:"隐藏窗口控制器",type:"info",class:"mt-5"},{default:s(()=>E[5]||(E[5]=[e(" 添加后，应用上方的窗口控制器将被隐藏 ")])),_:1})]),_:1},8,["title"])]),_:1},8,["show"])],64)}}}),Ou={class:"autoui-view mb-10"},Uu={class:"mt-5"},Hu={class:"mb-5 px-4 sm:px-0"},Wu={class:"flex flex-wrap"},zu={class:"flex flex-wrap"},Vu=au({__name:"DotBlackListView",setup(X){const $=g(null),Y=k(),l=nu(),_=ou(),v=gu(),w=ru(()=>({theme:l.isDarkMode?Eu:cu})),{message:Z,modal:o,notification:P}=Fu(["message","modal","notification"],{configProviderProps:w}),n=lu(),D=g(!1),M=g(!1);Au();const A=g(null);fu(),su(),ku();const T=g("");function Q(r){return()=>J(m,null,{default:()=>J(r)})}const B=async()=>{if(!l.ABTestInfo.Hyper_OS_DOT_BLACK_LIST_MANAGER){o.create({title:"内测说明",type:"warning",preset:"dialog",content:()=>u("p",null,[e("该功能尚处于测试阶段，预估最快2024-12-21后正式上线，可能存在较多不稳定性，需要有一定的玩机知识和问题解决能力，如需参与测试请通过做梦书的酷安动态获取新功能内测的激活口令！(动态内容就有，无需私信，新功能不同口令也不相同)")])});return}if(!n.systemDotBlackList.length||!n.hasHTMLViewerCloudData){o.create({title:"获取云控失败",type:"error",preset:"dialog",content:()=>u("div",null,[u("p",null,[e("无法获取到HTML查看器的云控，请检查是否禁用云控或者清除HTML查看器的数据再重启平板尝试操作~")]),l.currentRootManager!=="Magisk"&&u("p",null,[e("部分"),l.currentRootManager,e("版本内置的Web UI存在异常，如仍然无法正常获取云控数据库，请单独安装模块网盘内提供的KsuWebUI。")])])});return}await l.getAndroidApplicationPackageNameList(),await n.initDefault()},L=async()=>{const[r,a]=await f(v.getList());r&&o.create({title:"获取失败",type:"warning",preset:"dialog",content:()=>u("p",null,[e("您的系统环境暂不支持该功能，获取失败~")]),negativeText:"确定"}),a&&o.create({title:"获取成功",type:"success",preset:"dialog",content:()=>u("p",null,[e("好耶OwO，已重新获取当前已安装的应用名称~")]),negativeText:"确定"})},E=()=>{n.filterInstalledApps=!n.filterInstalledApps},b=async()=>{if(!l.ABTestInfo.Hyper_OS_DOT_BLACK_LIST_MANAGER){o.create({title:"内测说明",type:"warning",preset:"dialog",content:()=>u("p",null,[e("该功能尚处于测试阶段，预估最快2024-12-21后正式上线，可能存在较多不稳定性，需要有一定的玩机知识和问题解决能力，如需参与测试请通过做梦书的酷安动态获取新功能内测的激活口令！(动态内容就有，无需私信，新功能不同口令也不相同)")])});return}if(!n.systemDotBlackList.length||!n.hasHTMLViewerCloudData){o.create({title:"获取云控失败",type:"error",preset:"dialog",content:()=>u("div",null,[u("p",null,[e("无法获取到HTML查看器的云控，请检查是否禁用云控或者清除HTML查看器的数据再重启平板尝试操作~")]),l.currentRootManager!=="Magisk"&&u("p",null,[e("部分"),l.currentRootManager,e("版本内置的Web UI存在异常，如仍然无法正常获取云控数据库，请单独安装模块网盘内提供的KsuWebUI。")])])});return}M.value=!0,await B();const r=n.mergeDotBlackList.map(c=>c.name),[a,F]=await f(U({dotBlackList:r,sourceDotBlackList:n.sourceDotBlackList,customDotBlackList:n.customDotBlackList}));a&&(o.create({title:"热重载应用数据失败",type:"error",preset:"dialog",content:()=>u("p",null,[e("热重载应用数据失败了QwQ，详情请查看错误日志~")]),negativeText:"确定"}),M.value=!1),F&&(o.create({title:"热重载应用数据成功",type:"success",preset:"dialog",content:()=>u("p",null,[e("好耶w，已经重新为你载入包括自定义规则在内的应用数据~实际生效还需要重启")," ",u("span",{class:`font-bold ${l.isDarkMode?"text-teal-400":"text-gray-600"}`},[e("系统界面")])," ",e("的作用域，确定要继续吗？")]),positiveText:"确定重启作用域",negativeText:"稍后手动重启",onPositiveClick(){H().then(async c=>{await B(),o.create({title:"重启作用域成功",type:"success",preset:"dialog",content:()=>u("p",null,[e("已经成功为你重启系统界面的作用域，请查看是否生效，如不生效请手动重启平板再查看效果~")])})}).catch(c=>{o.create({title:"重启作用域失败",type:"error",preset:"dialog",content:()=>u("p",null,[e("发生异常错误，重启系统界面作用域失败QwQ，详细错误请查看日志~")])})})}}),M.value=!1)},W=async()=>{const[r,a]=await f(new Promise((F,c)=>{o.create({title:"想重启设备吗？",type:"info",preset:"dialog",content:()=>u("div",null,[u("p",null,[e("是否立即重启设备，以使规则生效？")])]),positiveText:"确认重启",negativeText:"取消",onPositiveClick:()=>{F("positiveClick")},onNegativeClick:()=>{c("negativeClick")}})}));if(a){const[F]=await f(Su());if(F){o.create({title:"操作失败",type:"error",preset:"dialog",content:()=>u("p",null,[e("无法重启设备，详情请查看日志记录~")]),negativeText:"确定"});return}}},z=async()=>{if(!l.ABTestInfo.Hyper_OS_DOT_BLACK_LIST_MANAGER){o.create({title:"内测说明",type:"warning",preset:"dialog",content:()=>u("p",null,[e("该功能尚处于测试阶段，预估最快2024-12-21后正式上线，可能存在较多不稳定性，需要有一定的玩机知识和问题解决能力，如需参与测试请通过做梦书的酷安动态获取新功能内测的激活口令！(动态内容就有，无需私信，新功能不同口令也不相同)")])});return}if(!n.systemDotBlackList.length||!n.hasHTMLViewerCloudData){o.create({title:"获取云控失败",type:"error",preset:"dialog",content:()=>u("div",null,[u("p",null,[e("无法获取到HTML查看器的云控，请检查是否禁用云控或者清除HTML查看器的数据再重启平板尝试操作~")]),l.currentRootManager!=="Magisk"&&u("p",null,[e("部分"),l.currentRootManager,e("版本内置的Web UI存在异常，如仍然无法正常获取云控数据库，请单独安装模块网盘内提供的KsuWebUI。")])])});return}T.value="";const[,r]=await f(new Promise((a,F)=>{o.create({title:"请粘贴分享口令",preset:"dialog",style:"min-width:500px; width:50%;",content:()=>J(eu,{type:"textarea",value:T.value,"onUpdate:value":c=>{T.value=c},autosize:{minRows:8,maxRows:8},placeholder:"在此处粘贴分享规则口令"}),positiveText:"确定提交",negativeText:"取消导入",onPositiveClick(){a("positiveClick")}})}));if(r){D.value=!0;const a=T.value,F=hu(a);if(!(F!=null&&F.length)){o.create({title:"导入分享规则失败",type:"error",preset:"dialog",content:()=>u("p",null,[e("导入分享规则失败了QwQ，解析")," ",u("span",{class:`font-bold ${l.isDarkMode?"text-teal-400":"text-gray-600"}`},[e("自定义规则")])," ",e("口令发生错误，无法正常解析。")]),negativeText:"确定"}),D.value=!1;return}try{const c=Nu(F),p=tu.inflate(c,{to:"string"}),i=JSON.parse(p);if(i.type!=="dot_black_list"){o.create({title:"导入分享规则失败",type:"error",preset:"dialog",content:()=>u("p",null,[e("导入分享规则失败了QwQ，该")," ",u("span",{class:`font-bold ${l.isDarkMode?"text-teal-400":"text-gray-600"}`},[e("自定义规则")])," ",e("不适用于窗口控制器。")]),negativeText:"确定"}),D.value=!1;return}if(i.device==="pad"&&l.deviceCharacteristics!=="tablet"||i.device==="fold"&&l.deviceCharacteristics==="tablet"){o.create({title:"导入分享规则失败",type:"error",preset:"dialog",content:()=>u("p",null,[e("导入分享规则失败了QwQ，平板和折叠屏的适配规则不能混用哦~")]),negativeText:"确定"}),D.value=!1;return}if(n.allPackageName.has(i.name)){o.create({title:"应用包名已存在",type:"error",preset:"dialog",content:()=>u("p",null,[e("这个应用包名已经存在列表中了,导入分享规则失败了！（敲")])}),D.value=!1;return}n.customDotBlackList.push(i.name);const h=n.mergeDotBlackList.map(x=>x.name),[O,d]=await f(U({dotBlackList:h,sourceDotBlackList:n.sourceDotBlackList,customDotBlackList:n.customDotBlackList}));O?(o.create({title:"导入分享规则失败",type:"error",preset:"dialog",content:()=>u("p",null,[e("发生异常错误，导入失败了QwQ，详细错误请查看错误日志~")])}),D.value=!1):(await B(),_.updateMergeRuleList(),D.value=!1,o.create({title:"导入分享规则成功",type:"success",preset:"dialog",content:()=>u("p",null,[e("好耶w，")," ",u("span",{class:`font-bold ${l.isDarkMode?"text-teal-400":"text-gray-600"}`},[S(i.name,l.installedAppNameList[i.name]||_.applicationName[i.name])])," ",e("的应用配置成功了OwO~实际生效还需要重启")," ",u("span",{class:`font-bold ${l.isDarkMode?"text-teal-400":"text-gray-600"}`},[e("系统界面")])," ",e("的作用域，确定要继续吗？")]),positiveText:"确定重启作用域",negativeText:"稍后手动重启",onPositiveClick(){H().then(async x=>{await B(),o.create({title:"重启作用域成功",type:"success",preset:"dialog",content:()=>u("p",null,[e("已经成功为你重启系统界面的作用域，请查看是否生效，如不生效请手动重启平板再查看效果~")])})}).catch(x=>{o.create({title:"重启作用域失败",type:"error",preset:"dialog",content:()=>u("p",null,[e("发生异常错误，重启系统界面作用域失败QwQ，详细错误请查看日志~")])})})}}))}catch(c){console.log(c,"error"),o.create({title:"导入分享规则失败",type:"error",preset:"dialog",content:()=>u("p",null,[e("解析分享规则失败了QwQ，请检查导入口令是否有误")]),negativeText:"确定"}),D.value=!1}}},K=async(r,a,F,c)=>{if(!l.ABTestInfo.Hyper_OS_DOT_BLACK_LIST_MANAGER){o.create({title:"内测说明",type:"warning",preset:"dialog",content:()=>u("p",null,[e("该功能尚处于测试阶段，预估最快2024-12-21后正式上线，可能存在较多不稳定性，需要有一定的玩机知识和问题解决能力，如需参与测试请通过做梦书的酷安动态获取新功能内测的激活口令！(动态内容就有，无需私信，新功能不同口令也不相同)")])});return}if(!n.systemDotBlackList.length||!n.hasHTMLViewerCloudData){o.create({title:"获取云控失败",type:"error",preset:"dialog",content:()=>u("div",null,[u("p",null,[e("无法获取到HTML查看器的云控，请检查是否禁用云控或者清除HTML查看器的数据再重启平板尝试操作~")]),l.currentRootManager!=="Magisk"&&u("p",null,[e("部分"),l.currentRootManager,e("版本内置的Web UI存在异常，如仍然无法正常获取云控数据库，请单独安装模块网盘内提供的KsuWebUI。")])])});return}if(r==="cleanCustomRule"){const p=o.create({title:"想清除自定义规则吗？",type:"warning",preset:"dialog",content:()=>u("p",null,[e("清除自定义规则后，将恢复")," ",u("span",{class:`font-bold ${l.isDarkMode?"text-teal-400":"text-gray-600"}`},[S(F.name,F.applicationName)])," ",e("的窗口控制器显示效果。确定要继续吗？")]),positiveText:"确定清除",negativeText:"我再想想",onPositiveClick:async()=>{p.loading=!0,n.customDotBlackList=n.customDotBlackList.filter(d=>d!==F.name),n.sourceDotBlackList=n.sourceDotBlackList.map(d=>(d.dataList=d.dataList.filter(x=>x!==F.name),d));const i=n.mergeDotBlackList.map(d=>d.name),[h,O]=await f(U({dotBlackList:i,sourceDotBlackList:n.sourceDotBlackList,customDotBlackList:n.customDotBlackList}));h?(o.create({title:"清除自定义规则失败",type:"error",preset:"dialog",content:()=>u("p",null,[e("发生异常错误，清除失败了QwQ，详细错误请查看错误日志~")])}),p.loading=!1):(p.loading=!1,o.create({title:"清除自定义规则成功",type:"success",preset:"dialog",content:()=>u("p",null,[e("好耶w，清除自定义规则成功了OwO~实际生效还需要重启")," ",u("span",{class:`font-bold ${l.isDarkMode?"text-teal-400":"text-gray-600"}`},[e("系统界面")])," ",e("的作用域，确定要继续吗？")]),positiveText:"确定重启作用域",negativeText:"稍后手动重启",onPositiveClick(){H().then(async d=>{await B(),o.create({title:"重启作用域成功",type:"success",preset:"dialog",content:()=>u("p",null,[e("已经成功为你重启系统界面的作用域，请查看是否生效，如不生效请手动重启平板再查看效果~")])})}).catch(d=>{o.create({title:"重启作用域失败",type:"error",preset:"dialog",content:()=>u("p",null,[e("发生异常错误，重启系统界面作用域失败QwQ，详细错误请查看日志~")])})})}}),p.loading=!1,await B())}})}if(r==="shareCustomRule"){const p={name:F.name,cmpt:1,rules:{name:F.name},type:"dot_black_list",device:l.deviceCharacteristics==="tablet"?"pad":"fold"},i=JSON.stringify(p),h=tu.deflate(i,{level:9,memLevel:9,windowBits:15}),O=new Uint8Array(h),d=$u(O),[x]=await f(navigator.clipboard.writeText(`我分享了一个[窗口控制器]的自定义规则，可以前往[完美横屏应用计划 For Web UI]导入：
${d}`));if(x){o.create({title:"复制分享口令失败",type:"error",preset:"dialog",content:()=>u("p",null,[e("复制")," ",u("span",{class:`font-bold ${l.isDarkMode?"text-teal-400":"text-gray-600"}`},[S(F.name,F.applicationName)])," ",e("的分享口令失败了QwQ，可能由于没有读取/写入剪切板的权限或")," ",u("span",{class:`font-bold ${l.isDarkMode?"text-teal-400":"text-gray-600"}`},[e("自定义规则")])," ",e("长度过大。")]),negativeText:"确定"});return}else o.create({title:"复制分享口令成功",type:"success",preset:"dialog",content:()=>u("div",null,[u("p",null,[e("好耶w，复制")," ",u("span",{class:`font-bold ${l.isDarkMode?"text-teal-400":"text-gray-600"}`},[S(F.name,F.applicationName)])," ",e("分享口令成功了~")]),u("p",null,[e("如果没有复制成功，请确认是否给予了读取/写入剪切板的权限或")," ",u("span",{class:`font-bold ${l.isDarkMode?"text-teal-400":"text-gray-600"}`},[e("自定义规则")])," ",e("长度过大。")]),u("p",null,[e("分享口令导入入口位于")," ",u("span",{class:`font-bold ${l.isDarkMode?"text-teal-400":"text-gray-600"}`},[e("窗口控制器- 从分享口令导入")])," ",e("。")])]),positiveText:"确定"})}},V=(r,a)=>{o.create({title:"系统规则说明",type:"warning",preset:"dialog",content:()=>u("p",null,[e("系统已对")," ",u("span",{class:`font-bold ${l.isDarkMode?"text-teal-400":"text-gray-600"}`},[S(r.name,r.applicationName)])," ",e("配置了窗口控制器的隐藏，且不可被移除，仅有自定义规则可以被移除哦~")])})},G=async()=>{if(!l.ABTestInfo.Hyper_OS_DOT_BLACK_LIST_MANAGER){o.create({title:"内测说明",type:"warning",preset:"dialog",content:()=>u("p",null,[e("该功能尚处于测试阶段，预估最快2024-12-21后正式上线，可能存在较多不稳定性，需要有一定的玩机知识和问题解决能力，如需参与测试请通过做梦书的酷安动态获取新功能内测的激活口令！(动态内容就有，无需私信，新功能不同口令也不相同)")])});return}if(!n.systemDotBlackList.length||n.hasHTMLViewerCloudData){o.create({title:"获取云控失败",type:"error",preset:"dialog",content:()=>u("div",null,[u("p",null,[e("无法获取到HTML查看器的云控，请检查是否禁用云控或者清除HTML查看器的数据再重启平板尝试操作~")]),l.currentRootManager!=="Magisk"&&u("p",null,[e("部分"),l.currentRootManager,e("版本内置的Web UI存在异常，如仍然无法正常获取云控数据库，请单独安装模块网盘内提供的KsuWebUI。")])])});return}if(A.value){const[r,a]=await f(A.value.openDrawer());if(r)console.log("操作取消:",r);else{n.customDotBlackList.push(a.name);const F=n.mergeDotBlackList.map(i=>i.name),[c,p]=await f(U({dotBlackList:F,sourceDotBlackList:n.sourceDotBlackList,customDotBlackList:n.customDotBlackList}));c?(o.create({title:"应用添加失败",type:"error",preset:"dialog",content:()=>u("p",null,[e("发生异常错误，添加失败了QwQ，详细错误请查看错误日志~")])}),a.loadingCallback&&a.loadingCallback()):(o.create({title:"应用添加成功",type:"success",preset:"dialog",content:()=>u("p",null,[e("好耶w，已经成功配置")," ",u("span",{class:`font-bold ${l.isDarkMode?"text-teal-400":"text-gray-600"}`},[S(a.name,l.installedAppNameList[a.name]||n.applicationName[a.name])])," ",e("的窗口控制器隐藏效果了OwO~实际生效还需要重启")," ",u("span",{class:`font-bold ${l.isDarkMode?"text-teal-400":"text-gray-600"}`},[e("系统界面")])," ",e("的作用域，确定要继续吗？")]),positiveText:"确定重启作用域",negativeText:"稍后手动重启",onPositiveClick(){H().then(async i=>{await B(),o.create({title:"重启作用域成功",type:"success",preset:"dialog",content:()=>u("p",null,[e("已经成功为你重启系统界面的作用域，请查看是否生效，如不生效请手动重启平板再查看效果~")])})}).catch(i=>{o.create({title:"重启作用域失败",type:"error",preset:"dialog",content:()=>u("p",null,[e("发生异常错误，重启系统界面作用域失败QwQ，详细错误请查看日志~")])})})}}),await B(),a.loadingCallback&&a.loadingCallback(),a.closeCallback&&a.closeCallback())}}},R=mu({page:1,pageSize:10,showSizePicker:!0,onChange:r=>{R.page=r},onUpdatePageSize:r=>{R.pageSize=r,R.page=1}});function k(){return[{title:"应用名称",minWidth:250,key:"name",render(r,a){return u("div",null,[r.applicationName&&u("p",null,[r.applicationName]),r.name&&u("p",null,[u("span",{class:{hidden:!r.applicationName}},[e("(")]),r.name,u("span",{class:{hidden:!r.applicationName}},[e(")")])])])}},{title:"规则状态",width:150,key:"isOptimizeWebView",render(r,a){return r.status?u(C("n-tag"),{bordered:!1,dashed:!0,type:"success"},{default:()=>[e("已生效")]}):u(C("n-tag"),{bordered:!1,dashed:!0,type:"info"},{default:()=>[e("未生效")]})}},{title:"规则来源",width:150,key:"ruleMode",render(r,a){if(r.ruleMode==="custom"){const F=[{label:"分享自定义规则",key:"shareCustomRule",icon:Q(uu)},{label:"清除自定义规则",key:"cleanCustomRule",icon:Q(Pu)}];return u(C("n-dropdown"),{onSelect:(c,p)=>K(c,p,r),size:"large",trigger:"click",options:F},{default:()=>[u(C("n-button"),{size:"small",dashed:!0,type:"info"},{default:()=>[e("自定义规则")]})]})}return u(C("n-button"),{size:"small",dashed:!0,type:"error",onClick:()=>V(r)},{default:()=>[e("系统规则")]})}}]}return(r,a)=>{const F=C("n-input-group"),c=C("n-card"),p=C("n-data-table");return N(),iu("main",Ou,[I("div",Uu,[I("div",Hu,[I("h3",{class:q(`text-base font-semibold leading-7 ${t(l).isDarkMode?"text-white":"text-gray-900"}`)}," 窗口控制器 ",2),I("p",{class:q(`mt-1 max-w-2xl text-sm leading-6 ${t(l).isDarkMode?"text-gray-300":"text-gray-500"}`)}," 在这里可以快速管理有关窗口控制器的配置 ",2)])]),u(c,{title:"操作区",size:"small"},{default:s(()=>[I("div",Wu,[u(t(y),{class:"mb-3 mr-3",type:"info",loading:t(l).loading||t(n).loading,onClick:G},{icon:s(()=>[u(t(m),null,{default:s(()=>[u(t(yu))]),_:1})]),default:s(()=>[a[8]||(a[8]=e(" 添加应用 "))]),_:1},8,["loading"]),u(t(y),{class:"mb-3 mr-3",type:"success",loading:t(l).loading||t(n).loading,onClick:a[0]||(a[0]=()=>B())},{icon:s(()=>[u(t(m),null,{default:s(()=>[u(t(vu))]),_:1})]),default:s(()=>[a[9]||(a[9]=e(" 刷新应用列表 "))]),_:1},8,["loading"]),u(t(y),{class:"mb-3 mr-3",color:"#8a2be2",loading:t(l).loading||t(n).loading,onClick:a[1]||(a[1]=()=>b())},{icon:s(()=>[u(t(m),null,{default:s(()=>[u(t(bu))]),_:1})]),default:s(()=>[a[10]||(a[10]=e(" 热重载应用数据 "))]),_:1},8,["loading"]),t(l).androidTargetSdk&&t(l).androidTargetSdk>33?(N(),j(t(y),{key:0,class:"mb-3 mr-3",color:"#69b2b6",loading:t(l).loading||t(n).loading||t(v).loading.value,onClick:a[2]||(a[2]=i=>L())},{icon:s(()=>[u(t(m),null,{default:s(()=>[u(t(wu))]),_:1})]),default:s(()=>[a[11]||(a[11]=e(" 获取已安装应用名称 "))]),_:1},8,["loading"])):Lu("",!0),u(t(y),{class:"mb-3 mr-3",type:"warning",loading:t(l).loading||t(n).loading||D.value,onClick:a[3]||(a[3]=i=>z())},{icon:s(()=>[u(t(m),null,{default:s(()=>[u(t(uu))]),_:1})]),default:s(()=>[a[12]||(a[12]=e(" 从分享口令导入 "))]),_:1},8,["loading"]),u(t(y),{class:"mb-3 mr-3",type:"error",loading:t(l).loading||t(n).loading||D.value,onClick:a[4]||(a[4]=i=>W())},{icon:s(()=>[u(t(m),null,{default:s(()=>[u(t(xu))]),_:1})]),default:s(()=>[a[13]||(a[13]=e(" 重启设备 "))]),_:1},8,["loading"])]),I("div",zu,[u(t(y),{class:"mb-3 mr-3",type:t(n).filterInstalledApps?"warning":"info",strong:"",loading:t(l).loading||t(n).loading,secondary:"",onClick:E},{icon:s(()=>[u(t(m),null,{default:s(()=>[t(n).filterInstalledApps?(N(),j(t(_u),{key:0})):(N(),j(t(Mu),{key:1}))]),_:1})]),default:s(()=>[e(" "+Tu(t(n).filterInstalledApps?"已安装应用":"全部应用"),1)]),_:1},8,["type","loading"])]),u(F,null,{default:s(()=>[u(t(eu),{size:"large",clearable:"",value:t(n).searchKeyWord,"onUpdate:value":a[5]||(a[5]=i=>t(n).searchKeyWord=i),ref_key:"searchKeyWordInput",ref:$,placeholder:"搜索应用名称/应用包名",autosize:"",style:{width:"80%"}},null,8,["value"]),u(t(y),{size:"large",type:"primary",onClick:a[6]||(a[6]=()=>{var i;(i=$.value)==null||i.blur()})},{icon:s(()=>[u(t(m),null,{default:s(()=>[u(t(Ru))]),_:1})]),default:s(()=>[a[14]||(a[14]=e(" 搜索 "))]),_:1}),u(t(y),{size:"large",bordered:"",onClick:a[7]||(a[7]=()=>{t(n).searchKeyWord=""})},{icon:s(()=>[u(t(m),null,{default:s(()=>[u(t(Iu))]),_:1})]),default:s(()=>[a[15]||(a[15]=e(" 清空 "))]),_:1})]),_:1})]),_:1}),u(p,{loading:t(l).loading||t(n).loading,columns:t(Y),data:t(n).filterMergeDotBlackList,pagination:R},null,8,["loading","columns","data","pagination"]),u(Qu,{ref_key:"addDotBlackListApp",ref:A,type:"add",title:"添加应用"},null,512)])}}});export{Vu as default};
