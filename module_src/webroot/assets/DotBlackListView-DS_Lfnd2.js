import{d as L,r as u,h as U,B as W,i as P,j as O,C as V,D as M,E as T,t as $,F as C,k as K,m as e,g as d,n as I,l as t,b as s,G as R,u as Y,e as i,f,H as g,N as _,c as k,I as H,J as j,p as l,K as q,L as G,M as J,O as Q,P as x,q as X,s as Z,Q as ee}from"./index-BBV5K8YX.js";const te={class:"autoui-view mb-10"},ae={class:"mt-5"},ne={class:"mb-5 px-4 sm:px-0"},se={class:"flex flex-wrap"},ue=L({__name:"DotBlackListView",setup(oe){const y=u(null),A=N(),r=U();W();const E=P(()=>({theme:r.isDarkMode?X:Z})),{message:le,modal:h,notification:ie}=O(["message","modal","notification"],{configProviderProps:E}),o=V(),F=M();u(!1),u(!1),T();const D=u(null),b=u(null);R(),$(),Y(),u("");const B=()=>{o.filterInstalledApps=!o.filterInstalledApps},w=(a,n)=>{h.create({title:"系统规则说明",type:"warning",preset:"dialog",content:()=>e("p",null,[l("系统已对")," ",e("span",{class:`font-bold ${r.isDarkMode?"text-teal-400":"text-gray-600"}`},[ee(a.name,a.applicationName)])," ",l("配置了窗口控制器的隐藏，且不可被移除，仅有自定义规则可以被移除哦~")])})};C({UNDEFINED_VIEW_POLICY:{type:"default",color:"",name:"空白规则"},VIEW_POLICY_DEFAULT:{type:"success",color:"",name:"全局缩放",onClick(a,n){}},VIEW_POLICY_STRETCH:{type:"info",color:"",name:"全局拉伸",onClick(a,n){}},VIEW_POLICY_AUTO_COLUMNS:{type:"warning",color:"",name:"全局栅格",onClick(a,n){}},VIEW_POLICY_FLOAT:{type:"error",color:"",name:"全局浮动",onClick(a,n){}},CUSTOM_VIEW_POLICY:{type:"",color:"#8a2be2",name:"精确适配",onClick(a,n){}}});const p=C({page:1,pageSize:10,showSizePicker:!0,onChange:a=>{p.page=a},onUpdatePageSize:a=>{p.pageSize=a,p.page=1}});function N(){return[{title:"应用名称",minWidth:250,key:"name",render(a,n){return e("div",null,[a.applicationName&&e("p",null,[a.applicationName]),a.name&&e("p",null,[e("span",{class:{hidden:!a.applicationName}},[l("(")]),a.name,e("span",{class:{hidden:!a.applicationName}},[l(")")])])])}},{title:"规则状态",width:150,key:"isOptimizeWebView",render(a,n){var c;return(c=a.autoUIRule)!=null&&c.optimizeWebView?e(i("n-tag"),{bordered:!1,dashed:!0,type:"success"},{default:()=>[l("已生效")]}):e(i("n-tag"),{bordered:!1,dashed:!0,type:"info"},{default:()=>[l("未生效")]})}},{title:"规则来源",width:150,key:"ruleMode",render(a,n){return e(i("n-button"),{size:"small",dashed:!0,type:"error",onClick:()=>w(a)},{default:()=>[l("系统规则")]})}}]}return(a,n)=>{const c=i("n-watermark"),S=i("n-input-group"),v=i("n-card"),z=i("n-data-table");return f(),K("main",te,[e(c,{content:"未开放，请等待后续消息",cross:"",fullscreen:"","font-size":16,"line-height":16,width:384,height:384,"z-index":9999,"x-offset":12,"y-offset":60,rotate:-15}),d("div",ae,[d("div",ne,[d("h3",{class:I(`text-base font-semibold leading-7 ${t(r).isDarkMode?"text-white":"text-gray-900"}`)}," 窗口控制器 ",2),d("p",{class:I(`mt-1 max-w-2xl text-sm leading-6 ${t(r).isDarkMode?"text-gray-300":"text-gray-500"}`)}," 在这里可以快速管理有关窗口控制器的配置 ",2)])]),e(v,{title:"操作区",size:"small"},{default:s(()=>[d("div",se,[e(t(g),{class:"mb-3 mr-3",type:t(o).filterInstalledApps?"warning":"info",strong:"",loading:t(r).loading||t(o).loading,secondary:"",onClick:B},{icon:s(()=>[e(t(_),null,{default:s(()=>[t(o).filterInstalledApps?(f(),k(t(H),{key:0})):(f(),k(t(j),{key:1}))]),_:1})]),default:s(()=>[l(" "+q(t(o).filterInstalledApps?"已安装应用":"全部应用"),1)]),_:1},8,["type","loading"])]),e(S,null,{default:s(()=>[e(t(G),{size:"large",clearable:"",value:t(o).searchKeyWord,"onUpdate:value":n[0]||(n[0]=m=>t(o).searchKeyWord=m),ref_key:"searchKeyWordInput",ref:y,placeholder:"搜索应用名称/应用包名",autosize:"",style:{width:"80%"}},null,8,["value"]),e(t(g),{size:"large",type:"primary",onClick:n[1]||(n[1]=()=>{var m;(m=y.value)==null||m.blur()})},{icon:s(()=>[e(t(_),null,{default:s(()=>[e(t(J))]),_:1})]),default:s(()=>[n[3]||(n[3]=l(" 搜索 "))]),_:1}),e(t(g),{size:"large",bordered:"",onClick:n[2]||(n[2]=()=>{t(o).searchKeyWord=""})},{icon:s(()=>[e(t(_),null,{default:s(()=>[e(t(Q))]),_:1})]),default:s(()=>[n[4]||(n[4]=l(" 清空 "))]),_:1})]),_:1})]),_:1}),e(z,{loading:t(r).loading||t(o).loading,columns:t(A),data:t(F).dataList,pagination:p},null,8,["loading","columns","data","pagination"]),e(x,{ref_key:"addAutoUIApp",ref:D,type:"add",title:"添加应用"},null,512),e(x,{ref_key:"updateAutoUIApp",ref:b,type:"update",title:"更新应用"},null,512)])}}});export{ue as default};
